<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Replacer Tests</title>
<link rel="stylesheet"
	href="https://code.jquery.com/qunit/qunit-2.0.1.css">
<link href="../css/bootstrap.min.css" rel="stylesheet">
<link href="../css/replacer.css" rel="stylesheet">
</head>
<body>
	<h1>Tests unitarios</h1>

	<div id="qunit"></div>
	<div id="qunit-fixture"></div>

	<h1>Resaltado de errores y de sintaxis</h1>

	<h2>Texto original</h2>
	<div id="contentOrig" class="pre"></div>

	<h2>Texto con errores</h2>
	<div id="contentMisspelled" class="pre"></div>

	<h2>Texto resaltado con errores </h2>
	<div id="contentHighlighted" class="pre"></div>

	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="../js/bootstrap.min.js"></script>
	<script src="../js/string-utils.js"></script>
	<script src="../js/regex.js"></script>
	<script src="../js/replace-utils.js"></script>

	<script src="https://code.jquery.com/qunit/qunit-2.0.1.js"></script>
	<script src="qunit-tests.js"></script>

	<script type="text/javascript">
		var orig = 'Z\n\n'
			+ 'X\nX\nX\nX\n'
			+ '<!-- Comentario -->\n' + '== Una google cabecera ==\n\n'
			+ 'Esto es un <i>ejemplo</i> de [[c√≥digo]] wiki.\n'
			+ 'Un enlace: https://www.google.es a google.'
			+ '\nX\nX\nX\nX'
			+ '\n\nZ';
		var encoded = StringUtils.encodeHtml(orig);
		$('#contentOrig').html(encoded);

		var misspellings = [{word : 'google', cs : 1, suggestion : 'Google'}];
		var misspellingMatches = ReplaceUtils.findMisspellingMatches(encoded, misspellings);
		var misspelled = ReplaceUtils.replaceMisspellingsWithButtons(encoded, misspellingMatches);
		misspelled = ReplaceUtils.removeParagraphsWithoutMisspellings(misspelled);
		$('#contentMisspelled').html(misspelled);

		var highlighted = ReplaceUtils.highlightSyntax(misspelled);
		$('#contentHighlighted').html(highlighted);

		// Add event to the misspelling buttons
		$('.miss').click(function() {
			alert(this.id);
		});

		// Add cool Bootstrap tooltips
		$(function() {
			$('[data-toggle="tooltip"]').tooltip()
		});
	</script>
</body>
</html>