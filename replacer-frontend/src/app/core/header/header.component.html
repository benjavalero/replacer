<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/">Replacer</a>
    <button type="button" class="navbar-toggler navbar-toggler-right" (click)="isNavCollapsed = !isNavCollapsed"
            aria-controls="navbarSupportedContent" [attr.aria-expanded]="!isNavCollapsed" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbarSupportedContent" class="navbar-collapse" [ngbCollapse]="isNavCollapsed" *ngIf="user$ | async as user">
      <ul class="navbar-nav mr-auto" *ngIf="user.hasRights">
        <li class="nav-item">
          <a class="nav-link" routerLinkActive="active" routerLink="/review" (click)="isNavCollapsed = true"
             title="Revisa todos los posibles reemplazos de un artículo aleatorio">Artículo aleatorio</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLinkActive="active" routerLink="/review/list" (click)="isNavCollapsed = true"
             title="Revisa todos los artículos que contienen un reemplazo en concreto">Lista de reemplazos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLinkActive="active" routerLink="/review/custom" (click)="isNavCollapsed = true"
             title="Revisa todos los artículos que contienen un reemplazo personalizado">Reemplazo personalizado</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLinkActive="active" routerLink="/stats" (click)="isNavCollapsed = true"
             title="Muestra el número de reemplazos indexados y revisados">Estadísticas</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://es.wikipedia.org/wiki/Usuario:Benjavalero/Replacer" target="_blank"
             rel="noopener noreferrer" title="Abrir página de la herramienta en Wikipedia">Ayuda</a>
        </li>
        <li class="nav-item" ngbDropdown *ngIf="user.admin">
          <a class="nav-link" style="cursor: pointer;" ngbDropdownToggle id="navbarDropdownAdmin" role="button"
             title="Tareas de administración">Administración</a>
          <div ngbDropdownMenu aria-labelledby="navbarDropdownAdmin">
            <button ngbDropdownItem routerLinkActive="active" routerLink="/admin/dump-indexing"
                    (click)="isNavCollapsed = true" title="Indexación">Indexación</button>
            <button ngbDropdownItem routerLinkActive="active" routerLink="/admin/unreviewed"
                    (click)="isNavCollapsed = true" title="Páginas con más reemplazos">Páginas con más reemplazos</button>
          </div>
        </li>
      </ul>
      <hr />
      <ul class="navbar-nav ml-auto justify-content-end" *ngIf="user.name">
        <li class="nav-item" ngbDropdown>
          <a class="nav-link" style="cursor: pointer;" ngbDropdownToggle id="navbarDropdownUser" role="button">
            <em>{{ user.name }} - {{ lang$ | async }}</em>
          </a>
          <div ngbDropdownMenu aria-labelledby="navbarDropdownUser" class="dropdown-menu-right">
            <button ngbDropdownItem (click)="onSelectLang('es')">
              En español (es.wikipedia.org)
            </button>
            <button ngbDropdownItem (click)="onSelectLang('gl')">
              En galego (gl.wikipedia.org)
            </button>
            <div class="dropdown-divider"></div>
            <button ngbDropdownItem (click)="onCloseSession()">
              Cerrar sesión
            </button>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
